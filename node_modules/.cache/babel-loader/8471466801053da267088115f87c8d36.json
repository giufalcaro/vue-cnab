{"ast":null,"code":"import _asyncToGenerator from \"/home/giuliano/\\xC1rea de Trabalho/qaa/vue/vue-cnab/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BTable, BRow, BCol } from \"bootstrap-vue\";\nimport axios from \"axios\";\nimport UploadFiles from \"./UploadFiles\";\nexport default {\n  components: {\n    BTable: BTable,\n    UploadFiles: UploadFiles,\n    BRow: BRow,\n    BCol: BCol\n  },\n  data: function data() {\n    return {\n      formValues: {\n        cpf: null,\n        valorTotal: 0\n      },\n      items: null,\n      activeTab: 0\n    };\n  },\n  computed: {\n    fields: function fields() {\n      return [{\n        key: \"cartao\",\n        label: \"Cartão\",\n        class: \"text-center\"\n      }, {\n        key: \"cpf\",\n        label: \"Cpf\",\n        class: \"text-center\"\n      }, {\n        key: \"data\",\n        label: \"Data\",\n        class: \"text-center\"\n      }, {\n        key: \"nomeLoja\",\n        label: \"Nome da loja\",\n        class: \"text-center\"\n      }, {\n        key: \"nomeRepresentante\",\n        label: \"Nome representante\",\n        class: \"text-center\"\n      }, {\n        key: \"tipo\",\n        label: \"Tipo\",\n        class: \"text-center\"\n      }, {\n        key: \"valor\",\n        label: \"Valor\",\n        class: \"text-center\"\n      }];\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.handleSubmit();\n  },\n  methods: {\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.formValues.valorTotal = 0;\n\n                if (_this.formValues.cpf) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return axios.get(\"http://localhost:8080/find\");\n\n              case 4:\n                response = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 7:\n                _context.next = 9;\n                return axios.get(\"http://localhost:8080/findByCpf\", {\n                  headers: {\n                    cpf: _this.formValues.cpf\n                  }\n                });\n\n              case 9:\n                response = _context.sent;\n                response.data.forEach(function (item) {\n                  _this.formValues.valorTotal = item.valor + _this.formValues.valorTotal;\n                });\n\n              case 11:\n                _this.items = response.data;\n                console.log(response);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AAEA;EACAA;IACAC,cADA;IAEAC,wBAFA;IAGAC,UAHA;IAIAC;EAJA,CADA;EAOAC,IAPA,kBAOA;IACA;MACAC;QACAC,SADA;QAEAC;MAFA,CADA;MAKAC,WALA;MAMAC;IANA;EAQA,CAhBA;EAiBAC;IACAC,MADA,oBACA;MACA,QACA;QACAC,aADA;QAEAC,eAFA;QAGAC;MAHA,CADA,EAMA;QACAF,UADA;QAEAC,YAFA;QAGAC;MAHA,CANA,EAWA;QACAF,WADA;QAEAC,aAFA;QAGAC;MAHA,CAXA,EAgBA;QACAF,eADA;QAEAC,qBAFA;QAGAC;MAHA,CAhBA,EAqBA;QACAF,wBADA;QAEAC,2BAFA;QAGAC;MAHA,CArBA,EA0BA;QACAF,WADA;QAEAC,aAFA;QAGAC;MAHA,CA1BA,EA+BA;QACAF,YADA;QAEAC,cAFA;QAGAC;MAHA,CA/BA;IAqCA;EAvCA,CAjBA;EA0DAC,WA1DA,yBA0DA;IACA;EACA,CA5DA;EA6DAC;IACAC,YADA,0BACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEA;;gBAFA,IAGA,oBAHA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAIAC,uCAJA;;cAAA;gBAIAC,QAJA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAMAD;kBACAE;oBAAAd;kBAAA;gBADA,EANA;;cAAA;gBAMAa,QANA;gBAUAA;kBACA;gBACA,CAFA;;cAVA;gBAeA;gBACAE;;cAhBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAiBA;EAlBA;AA7DA","names":["components","BTable","UploadFiles","BRow","BCol","data","formValues","cpf","valorTotal","items","activeTab","computed","fields","key","label","class","beforeMount","methods","handleSubmit","axios","response","headers","console"],"sourceRoot":"src/components","sources":["Cnab-ini.vue"],"sourcesContent":["<template>\n  <div>\n    <b-tabs ref=\"tabs\" v-model=\"activeTab\" content-class=\"mt-2\" justified>\n      <b-row>\n        <b-tab active :title=\"'Empresa'\">\n          <b-col cols=\"6\">\n            <FormulateForm\n              class=\"login-form\"\n              v-model=\"formValues\"\n              @submit=\"handleSubmit\"\n            >\n              <h2 class=\"form-title\">Buscar documentos</h2>\n              <upload-files></upload-files>\n              <FormulateInput\n                name=\"cpf\"\n                type=\"text\"\n                label=\"Cpf\"\n                placeholder=\"cpf\"\n              />\n              <FormulateInput type=\"submit\" label=\"Buscar\" />\n              <h5 class=\"form-title\">Valor total na conta do cpf buscado:</h5>\n              <pre class=\"code\" v-text=\"formValues.valorTotal\" />\n            </FormulateForm>\n          </b-col>\n        </b-tab>\n        <b-tab active :title=\"'tabela'\">\n          <b-col cols=\"6\">\n            <b-table\n              id=\"object-table\"\n              ref=\"object-table\"\n              striped\n              hover\n              :items=\"items\"\n              :fields=\"fields\"\n            >\n            </b-table>\n          </b-col>\n        </b-tab>\n      </b-row>\n    </b-tabs>\n  </div>\n</template>\n\n<script>\nimport { BTable, BRow, BCol } from \"bootstrap-vue\";\nimport axios from \"axios\";\nimport UploadFiles from \"./UploadFiles\";\n\nexport default {\n  components: {\n    BTable,\n    UploadFiles,\n    BRow,\n    BCol,\n  },\n  data() {\n    return {\n      formValues: {\n        cpf: null,\n        valorTotal: 0,\n      },\n      items: null,\n      activeTab: 0,\n    };\n  },\n  computed: {\n    fields() {\n      return [\n        {\n          key: \"cartao\",\n          label: \"Cartão\",\n          class: \"text-center\",\n        },\n        {\n          key: \"cpf\",\n          label: \"Cpf\",\n          class: \"text-center\",\n        },\n        {\n          key: \"data\",\n          label: \"Data\",\n          class: \"text-center\",\n        },\n        {\n          key: \"nomeLoja\",\n          label: \"Nome da loja\",\n          class: \"text-center\",\n        },\n        {\n          key: \"nomeRepresentante\",\n          label: \"Nome representante\",\n          class: \"text-center\",\n        },\n        {\n          key: \"tipo\",\n          label: \"Tipo\",\n          class: \"text-center\",\n        },\n        {\n          key: \"valor\",\n          label: \"Valor\",\n          class: \"text-center\",\n        },\n      ];\n    },\n  },\n  beforeMount() {\n    this.handleSubmit();\n  },\n  methods: {\n    async handleSubmit() {\n      let response;\n      this.formValues.valorTotal = 0;\n      if (!this.formValues.cpf) {\n        response = await axios.get(\"http://localhost:8080/find\");\n      } else {\n        response = await axios.get(\"http://localhost:8080/findByCpf\", {\n          headers: { cpf: this.formValues.cpf },\n        });\n\n        response.data.forEach((item) => {\n          this.formValues.valorTotal = item.valor + this.formValues.valorTotal;\n        });\n      }\n\n      this.items = response.data;\n      console.log(response);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-form {\n  padding: 2em;\n  border: 1px solid #a8a8a8;\n  border-radius: 0.5em;\n  max-width: 500px;\n  box-sizing: border-box;\n}\n.center {\n  padding: 70px 0;\n  border: 3px solid green;\n}\n\n.form-title {\n  margin-top: 0;\n}\n.login-form::v-deep .formulate-input .formulate-input-element {\n  max-width: none;\n}\n@media (min-width: 420px) {\n  .double-wide {\n    display: flex;\n  }\n  .double-wide .formulate-input {\n    flex-grow: 1;\n    width: calc(50% - 0.5em);\n  }\n  .double-wide .formulate-input:first-child {\n    margin-right: 0.5em;\n  }\n  .double-wide .formulate-input:last-child {\n    margin-left: 0.5em;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}