{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UploadService from \"../UploadFilesService\";\nexport default {\n  name: \"upload-files\",\n  data: function data() {\n    return {\n      selectedFiles: undefined,\n      currentFile: undefined,\n      progress: 0,\n      message: \"\",\n      fileInfos: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    UploadService.getFiles().then(function (response) {\n      _this.fileInfos = response.data;\n    });\n  },\n  methods: {\n    selectFile: function selectFile() {\n      this.selectedFiles = this.$refs.file.files;\n    },\n    upload: function upload() {\n      var _this2 = this;\n\n      this.progress = 0;\n      this.currentFile = this.selectedFiles.item(0);\n      UploadService.upload(this.currentFile, function (event) {\n        _this2.progress = Math.round(100 * event.loaded / event.total);\n      }).then(function (response) {\n        console.log(response);\n      }).then(function (files) {\n        _this2.fileInfos = files.data;\n      }).catch(function () {\n        _this2.progress = 0;\n        _this2.currentFile = undefined;\n      });\n      this.selectedFiles = undefined;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;EACAA,oBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,wBADA;MAEAC,sBAFA;MAGAC,WAHA;MAIAC,WAJA;MAKAC;IALA;EAOA,CAVA;EAWAC,OAXA,qBAWA;IAAA;;IACAC;MACA;IACA,CAFA;EAGA,CAfA;EAgBAC;IACAC,UADA,wBACA;MACA;IACA,CAHA;IAIAC,MAJA,oBAIA;MAAA;;MACA;MACA;MACAH;QACA;MACA,CAFA,EAGAI,IAHA,CAGA;QACAC;MACA,CALA,EAMAD,IANA,CAMA;QACA;MACA,CARA,EASAE,KATA,CASA;QACA;QACA;MACA,CAZA;MAaA;IACA;EArBA;AAhBA","names":["name","data","selectedFiles","currentFile","progress","message","fileInfos","mounted","UploadService","methods","selectFile","upload","then","console","catch"],"sourceRoot":"src/components","sources":["UploadFiles.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"currentFile\" class=\"progress\">\n      <div\n        class=\"progress-bar progress-bar-info progress-bar-striped\"\n        role=\"progressbar\"\n        :aria-valuenow=\"progress\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        :style=\"{ width: progress + '%' }\"\n      >\n        {{ progress }}%\n      </div>\n    </div>\n \n      <input type=\"file\" ref=\"file\" @change=\"selectFile\" />\n      <FormulateInput\n        type=\"file\"\n        name=\"file\"\n        label=\"Select your documents to upload\"\n        help=\"Select one or more PDFs to upload\"\n        multiple\n      />\n\n    <button class=\"btn btn-success\" :disabled=\"!selectedFiles\" @click=\"upload\">\n      Upload\n    </button>\n    <div class=\"alert alert-light\" role=\"alert\">{{ message }}</div>\n  </div>\n</template>\n<script>\nimport UploadService from \"../UploadFilesService\";\nexport default {\n  name: \"upload-files\",\n  data() {\n    return {\n      selectedFiles: undefined,\n      currentFile: undefined,\n      progress: 0,\n      message: \"\",\n      fileInfos: [],\n    };\n  },\n    mounted() {\n    UploadService.getFiles().then(response => {\n      this.fileInfos = response.data;\n    });\n  },\n  methods: {\n    selectFile() {\n      this.selectedFiles = this.$refs.file.files;\n    },\n    upload() {\n      this.progress = 0;\n      this.currentFile = this.selectedFiles.item(0);\n      UploadService.upload(this.currentFile, (event) => {\n        this.progress = Math.round((100 * event.loaded) / event.total);\n      })\n        .then((response) => {\n          console.log(response)\n        })\n        .then((files) => {\n          this.fileInfos = files.data;\n        })\n        .catch(() => {\n          this.progress = 0;\n          this.currentFile = undefined;\n        });\n      this.selectedFiles = undefined;\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}